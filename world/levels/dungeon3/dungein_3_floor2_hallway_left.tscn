[gd_scene load_steps=57 format=3 uid="uid://dmwqpmwo1axro"]

[ext_resource type="PackedScene" uid="uid://cnd06dpkgufe4" path="res://world/levels/level_base.tscn" id="1_v5sqe"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape.gd" id="2_sehqj"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="3_iy4ka"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="4_70fpa"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="5_pviws"]
[ext_resource type="Resource" uid="uid://vgy02p4w5scg" path="res://world/smart_shapes/stone/stone.tres" id="6_rhaoq"]
[ext_resource type="Resource" uid="uid://ddqyt2fjwf66q" path="res://world/smart_shapes/hole/hole.tres" id="7_eohx2"]
[ext_resource type="Texture2D" uid="uid://dc4pcxr2lfkka" path="res://demo_art/dungeon_entrance.png" id="8_2kevs"]
[ext_resource type="Script" path="res://world/interactable/transition_trigger/transition_trigger.gd" id="9_uwodc"]
[ext_resource type="PackedScene" uid="uid://bbwsv2e8utpd6" path="res://world/decoration/toches/torch.tscn" id="10_sef06"]
[ext_resource type="PackedScene" uid="uid://c4yqlc2st3kvf" path="res://world/decoration/toches/fire_purple.tscn" id="11_g88py"]

[sub_resource type="Resource" id="Resource_m02ve"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ih1ul"]
script = ExtResource("4_70fpa")
position = Vector2(-217.869, -948.65)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_m02ve")

[sub_resource type="Resource" id="Resource_ymwto"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_usi8r"]
script = ExtResource("4_70fpa")
position = Vector2(1022.83, -965.214)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ymwto")

[sub_resource type="Resource" id="Resource_4russ"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ovfgi"]
script = ExtResource("4_70fpa")
position = Vector2(1072.15, 1138.12)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_4russ")

[sub_resource type="Resource" id="Resource_fyhrb"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_lytj5"]
script = ExtResource("4_70fpa")
position = Vector2(-191.052, 1132.47)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_fyhrb")

[sub_resource type="Resource" id="Resource_ebx2t"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_6cutj"]
script = ExtResource("4_70fpa")
position = Vector2(-217.869, -948.65)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ebx2t")

[sub_resource type="Resource" id="Resource_u0qh4"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_fnv76"]
script = ExtResource("4_70fpa")
position = Vector2(175.379, -953.354)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_u0qh4")

[sub_resource type="Resource" id="Resource_62tel"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_bam36"]
script = ExtResource("4_70fpa")
position = Vector2(168.252, -1170.73)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_62tel")

[sub_resource type="Resource" id="Resource_q35kb"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_qum8f"]
script = ExtResource("4_70fpa")
position = Vector2(567.375, -1177.86)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_q35kb")

[sub_resource type="Resource" id="Resource_4eda4"]
script = ExtResource("3_iy4ka")
texture_idx = 4
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_nwmyd"]
script = ExtResource("4_70fpa")
position = Vector2(574.502, -971.172)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_4eda4")

[sub_resource type="Resource" id="Resource_7rvno"]
script = ExtResource("5_pviws")
_points = {
0: SubResource("Resource_ih1ul"),
1: SubResource("Resource_usi8r"),
2: SubResource("Resource_ovfgi"),
3: SubResource("Resource_lytj5"),
4: SubResource("Resource_6cutj"),
5: SubResource("Resource_fnv76"),
6: SubResource("Resource_bam36"),
7: SubResource("Resource_qum8f"),
8: SubResource("Resource_nwmyd")
}
_point_order = PackedInt32Array(0, 5, 6, 7, 8, 1, 2, 3, 4)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 9
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_7pfio"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_o51fx"]
script = ExtResource("4_70fpa")
position = Vector2(91.6325, -20.6601)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_7pfio")

[sub_resource type="Resource" id="Resource_ng2su"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_uurty"]
script = ExtResource("4_70fpa")
position = Vector2(418.325, -69.9735)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ng2su")

[sub_resource type="Resource" id="Resource_uxlau"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_kg6bq"]
script = ExtResource("4_70fpa")
position = Vector2(888.719, -32.5557)
point_in = Vector2(-101.563, -39.1996)
point_out = Vector2(101.563, 39.1996)
properties = SubResource("Resource_uxlau")

[sub_resource type="Resource" id="Resource_4qos4"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_5vhes"]
script = ExtResource("4_70fpa")
position = Vector2(997.889, 48.1358)
point_in = Vector2(-2.82837, -12.7279)
point_out = Vector2(2.82837, 12.7279)
properties = SubResource("Resource_4qos4")

[sub_resource type="Resource" id="Resource_bsjpn"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_08oow"]
script = ExtResource("4_70fpa")
position = Vector2(1027.7, 200.86)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_bsjpn")

[sub_resource type="Resource" id="Resource_hurwi"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_v2qkk"]
script = ExtResource("4_70fpa")
position = Vector2(895.846, 396.857)
point_in = Vector2(149.671, 0)
point_out = Vector2(-149.671, 0)
properties = SubResource("Resource_hurwi")

[sub_resource type="Resource" id="Resource_wgv2c"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_dhckp"]
script = ExtResource("4_70fpa")
position = Vector2(592.941, 418.239)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_wgv2c")

[sub_resource type="Resource" id="Resource_prxwn"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_4yxtp"]
script = ExtResource("4_70fpa")
position = Vector2(54.838, 386.167)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_prxwn")

[sub_resource type="Resource" id="Resource_knmsc"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_jak4a"]
script = ExtResource("4_70fpa")
position = Vector2(-151.85, 300.64)
point_in = Vector2(14.2544, 83.7445)
point_out = Vector2(-14.2544, -83.7445)
properties = SubResource("Resource_knmsc")

[sub_resource type="Resource" id="Resource_y0u0q"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ydju7"]
script = ExtResource("4_70fpa")
position = Vector2(-122.378, 43.0027)
point_in = Vector2(-76.2813, 61.4489)
point_out = Vector2(76.2813, -61.4489)
properties = SubResource("Resource_y0u0q")

[sub_resource type="Resource" id="Resource_11qiv"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ydgmb"]
script = ExtResource("4_70fpa")
position = Vector2(91.6325, -20.6601)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_11qiv")

[sub_resource type="Resource" id="Resource_tnfj2"]
script = ExtResource("3_iy4ka")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_qatj4"]
script = ExtResource("4_70fpa")
position = Vector2(1033.61, 148.685)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_tnfj2")

[sub_resource type="Resource" id="Resource_b6os4"]
script = ExtResource("5_pviws")
_points = {
0: SubResource("Resource_o51fx"),
1: SubResource("Resource_uurty"),
2: SubResource("Resource_kg6bq"),
3: SubResource("Resource_5vhes"),
4: SubResource("Resource_08oow"),
5: SubResource("Resource_v2qkk"),
6: SubResource("Resource_dhckp"),
7: SubResource("Resource_4yxtp"),
8: SubResource("Resource_jak4a"),
9: SubResource("Resource_ydju7"),
10: SubResource("Resource_ydgmb"),
11: SubResource("Resource_qatj4")
}
_point_order = PackedInt32Array(0, 1, 2, 3, 11, 4, 5, 6, 7, 8, 9, 10)
_constraints = {
Vector2i(0, 10): 15
}
_next_key = 12
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b0g0r"]
size = Vector2(158, 146)

[node name="D3Floor2LeftHallway" instance=ExtResource("1_v5sqe")]

[node name="Background" type="ColorRect" parent="." index="0"]
z_index = -1000
offset_left = -2184.0
offset_top = -2718.0
offset_right = 3494.0
offset_bottom = 2847.0
color = Color(0, 0, 0, 1)

[node name="MiddleLeft1B" type="Node2D" parent="EntryPoints" index="0"]
position = Vector2(-20, 728)

[node name="UpperLeft1B" type="Node2D" parent="EntryPoints" index="1"]
position = Vector2(-32, -504)

[node name="LeftMiniBoss" type="Node2D" parent="EntryPoints" index="2"]
position = Vector2(368, -1024)

[node name="Player" parent="." index="6"]
position = Vector2(84, 794)

[node name="Ground" type="Node2D" parent="." index="7"]
z_index = -10
script = ExtResource("2_sehqj")
_points = SubResource("Resource_7rvno")
shape_material = ExtResource("6_rhaoq")

[node name="Hole" type="StaticBody2D" parent="." index="8"]
collision_layer = 8

[node name="SmartShape" type="Node2D" parent="Hole" index="0"]
script = ExtResource("2_sehqj")
_points = SubResource("Resource_b6os4")
shape_material = ExtResource("7_eohx2")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Hole" index="1"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(91.6325, -20.6601, 418.325, -69.9735, 772.373, -54.9396, 839.348, -45.4181, 888.719, -32.5557, 948.226, -5.20022, 967.147, 6.84596, 980.329, 17.7169, 988.883, 27.347, 993.92, 35.6706, 996.551, 42.6221, 997.889, 48.1358, 1033.61, 148.685, 1027.7, 200.86, 1028.14, 231.484, 1025.44, 262.875, 1017.9, 298.859, 1011.63, 317.138, 1003.34, 334.843, 992.749, 351.399, 979.591, 366.233, 963.593, 378.77, 944.484, 388.436, 921.992, 394.656, 895.846, 396.857, 592.941, 418.239, 54.838, 386.167, -43.1608, 374.808, -80.1888, 364.503, -113.542, 349.334, -127.483, 339.631, -138.877, 328.359, -147.18, 315.402, -151.85, 300.64, -171.065, 163.461, -168.984, 129.444, -161.169, 97.4057, -154.645, 82.4208, -146.13, 68.2808, -135.436, 55.1025, -122.378, 43.0027, -91.281, 22.6246, -56.7575, 7.13165, 13.2329, -11.872, 91.6325, -20.6601)

[node name="MiddleLeft1B" type="Sprite2D" parent="." index="9"]
position = Vector2(-220, 703)
scale = Vector2(2.33037, 2.33037)
texture = ExtResource("8_2kevs")

[node name="TransitionScene" type="Area2D" parent="MiddleLeft1B" index="0"]
position = Vector2(-6.00761, 27.8925)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("9_uwodc")
scene_name = "latest_demo_2"
entry_point = "Dungeon"

[node name="CollisionShape2D" type="CollisionShape2D" parent="MiddleLeft1B/TransitionScene" index="0"]
position = Vector2(6, -13)
shape = SubResource("RectangleShape2D_b0g0r")

[node name="UpperLeft1B" type="Sprite2D" parent="." index="10"]
position = Vector2(-228, -557)
scale = Vector2(2.33037, 2.33037)
texture = ExtResource("8_2kevs")

[node name="TransitionScene" type="Area2D" parent="UpperLeft1B" index="0"]
position = Vector2(-6.00761, 27.8925)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("9_uwodc")
scene_name = "latest_demo_2"
entry_point = "Dungeon"

[node name="CollisionShape2D" type="CollisionShape2D" parent="UpperLeft1B/TransitionScene" index="0"]
position = Vector2(6, -13)
shape = SubResource("RectangleShape2D_b0g0r")

[node name="LeftMiniBoss" type="Sprite2D" parent="." index="11"]
position = Vector2(384, -1263)
scale = Vector2(2.33037, 2.33037)
texture = ExtResource("8_2kevs")

[node name="TransitionScene" type="Area2D" parent="LeftMiniBoss" index="0"]
position = Vector2(-6.00761, 27.8925)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("9_uwodc")
scene_name = "latest_demo_2"
entry_point = "Dungeon"

[node name="CollisionShape2D" type="CollisionShape2D" parent="LeftMiniBoss/TransitionScene" index="0"]
position = Vector2(6, -13)
shape = SubResource("RectangleShape2D_b0g0r")

[node name="Torch" parent="." index="12" instance=ExtResource("10_sef06")]
position = Vector2(858, -174)

[node name="Fire" parent="Torch" index="2" instance=ExtResource("11_g88py")]

[node name="Torch2" parent="." index="13" instance=ExtResource("10_sef06")]
position = Vector2(10, -133)

[node name="Fire" parent="Torch2" index="2" instance=ExtResource("11_g88py")]

[node name="Torch3" parent="." index="14" instance=ExtResource("10_sef06")]
position = Vector2(17, 537)

[node name="Fire" parent="Torch3" index="2" instance=ExtResource("11_g88py")]

[node name="Torch4" parent="." index="15" instance=ExtResource("10_sef06")]
position = Vector2(862, 590)

[node name="Fire" parent="Torch4" index="2" instance=ExtResource("11_g88py")]

[node name="Boundaries" type="StaticBody2D" parent="." index="16"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Boundaries" index="0"]
polygon = PackedVector2Array(556, -1201, 168, -1179, 177, -958, -213, -949, -184, 1121, -413, -1400)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Boundaries" index="1"]
polygon = PackedVector2Array(564, -1193, 571, -970, 1017, -957, 1074, 1122, 1303, -1234)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Boundaries" index="2"]
polygon = PackedVector2Array(1066, 1122, -190, 1127, 1064, 1415)

[connection signal="body_entered" from="MiddleLeft1B/TransitionScene" to="MiddleLeft1B/TransitionScene" method="_on_body_entered"]
[connection signal="body_entered" from="UpperLeft1B/TransitionScene" to="UpperLeft1B/TransitionScene" method="_on_body_entered"]
[connection signal="body_entered" from="LeftMiniBoss/TransitionScene" to="LeftMiniBoss/TransitionScene" method="_on_body_entered"]
